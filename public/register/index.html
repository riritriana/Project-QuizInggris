<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="./style.css">
</head>

<body>
  <div class="container">
    <div class="form login" id="login">
      <form name="register" id="login-form"  display: flex;
      flex-direction: column;
      gap: 10px;>
        <h2>REGISTER</h2>
        <div class="input">
          <input class="inputan"  type="text" name="nama" placeholder="Masukkan Nama Lengkap">
        </div>
        <div class="input">
          <input class="inputan" type="email" name="email" placeholder="Masukkan E-mail">
        </div>
        <div class="input">         
          <input class="inputan"name="username" type="text" placeholder="Masukkan Username">
        </div>
        <div class="input">        
          <input class="inputan"name="password" type="password" placeholder="Masukkan Password">
        </div>
        <div class="input">
          <input class="inputan" type="file" name="image">
        </div>
        <div class="tombol-masuk">
          <button class="register"><b>REGISTER</b></button>
          <button class="login2" type="button"><b>LOGIN</b></button> 
        </div>
      </form>
    </div>
  </div>
</body>

</html>
<script>
  // document.querySelector("button").onclick = async (e) => {
    document.register.onsubmit = async (e) => {
    e.preventDefault();
    const data= new FormData();
    data.append("nama",document.register.nama.value);
    data.append("email",document.register.email.value);
    data.append("username",document.register.username.value);
    data.append("password",document.register.password.value);
    data.append("image",document.register.image.files[0]);
    // untuk mengubah menjadi json
    
    const respose=await fetch("/api/register", {

      method: "POST", // untuk menginput
      // headers: {
      //   "Content-Type": "application/json", // mengubah nilai yang di input menjadi json
      // },
      body:data,
      // body: JSON.stringify({
      //   username,
      //   password,
      // }),
    });
    if(respose.ok){
          alert("Your Account is Registered"); 
    location.href = "/login"; 

    }
    else{
      alert("user already");
    }
  };
  document.querySelector(".login2").onclick = async (e) => {
    (location.href = "/login");
  }
</script>
